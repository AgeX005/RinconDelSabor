<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>El Rincon Dulce</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Capriola&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./styles.css">

</head>

<body>
    <div class="background"></div>
  

    <div class="panel">

        <div class="header">
            <div class="title" style="flex-grow: 2;"> <b>El Rincón Dulce</b> </div>
            <button style="flex-grow: 1;" onclick="window.location.href='./index.html'">Inicio</button>
            <button style="flex-grow: 1;" onclick="window.location.href='./about.html'">Sobre Nosotros</button>
            <button style="flex-grow: 1;" onclick="window.location.href='./contact.html'">Contacto</button>
            <button style="flex-grow: 1;" onclick="window.location.href='./gallery.html'">Galeria</button>
            <button style="flex-grow: 1;" onclick="window.location.href='./menu.html'" class="main_button">Menú</button>
        </div>
        <div class="menu">

            
            <div class="item" style="height: 400px;">
                <div>
                    <h2>Donas cubiertas de azúcar</h2>
                    <p>
                        Suaves donas fritas espolvoreadas con una dulce capa de azúcar.
                    </p>
                </div>
                <div>
                    <img src="./images/dona_azucar.png">
                    <button class="price" data-name="Dona de azucar" data-price="6"> Q6.00 c/u</button>
                </div>
            </div>

            <div class="item" style="height: 400px;">
                <div>
                    <img src="./images/dona_variada.png">
                    <button class="price" data-name="Dona" data-price="8"> Q8.00 c/u</button>
                </div>
                <div>
                    <h2>Donas variadas</h2>
                    <p>
                        Surtido de donas con coberturas y sabores deliciosamente diferentes.
                    </p>
                </div>
                
            </div>

            <div class="item" style="height: 400px;">
                <div>
                    <h2> Vanilla Muffin </h2>
                    <p>
                        Esponjoso muffin de vainilla con aroma suave y sabor tradicional.
                    </p>
                </div>
                <div>
                    <img src="./images/vanilla_muffin.png">
                    <button class="price" data-name="Muffin Classic" data-price="5"> Q5.00 c/u</button>
                </div>
                
            </div>
            <div class="item" style="height: 400px;">
                <div>
                    <img src="./images/muffin_variado.png">
                    <button class="price" data-name="Muffin" data-price="9"> Q9.00 c/u</button>
                </div>
                
                <div>
                    <h2>Muffins variados</h2>
                    <p>
                        Muffins de sabores surtidos: chocolate, vainilla, chispas y más.   
                    </p>
                </div>
                
            </div>
            <div class="item" style="height: 400px;">
                <div>
                    <h2>Cupcakes variados</h2>
                    <p>
                        Deliciosos cupcakes decorados con cremas y sabores surtidos.
                    </p>
                </div>
                <div>
                    <img src="./images/cupcake.png">
                    <button class="price" data-name="Cupcake" data-price="8"> Q8.00 c/u</button>
                </div>
                
            </div>
            <div class="item" style="height: 400px;">
                <div>
                    <img src="./images/galleta_variada.png">
                    <button class="price" data-name="Galleta" data-price="5"> Q5.00 c/u</button>
                    <br><br><br>
                    <button class="price" data-name="Galleta (x2)" data-price="8"> Q8.00 x2</button>
                </div>
                
                <div>
                    <h2>Galletas con chispas de chocolate</h2>
                    <p>
                        Galletas crujientes con abundantes chispas de chocolate semiamargo.
                    </p>
                    
                </div>
               
                
                
            </div>
            <div class="item" style="height: 400px;">
                <div>
                    <h2>Strudel con crema</h2>
                    <p>
                        Hojaldre relleno de crema dulce, horneado hasta dorar.
                    </p>
                </div>
                <div>
                    <img src="./images/strudel.png">
                    <button class="price" data-name="Strudel" data-price="9"> Q9.00 c/u</button>
                </div>
                
            </div>
            <div class="item" style="height: 400px;">
                <div>
                    <img src="./images/hojaldres.png">
                    <button class="price" data-name="Hojaldre" data-price="10"> Q10.00 c/u</button>
                </div>
                
                <div>
                    <h2>Hojaldres de manzana</h2>
                    <p>
                        Crujientes hojaldres con relleno de manzana y toque de canela.
                    </p>
                </div>
                
            </div>
            <div class="item" style="height: 400px;">
                <div>
                    <h2>Rollos de canela</h2>
                    <p>
                        Rollos esponjosos con canela, cubiertos de glaseado dulce.
                    </p>
                </div>
                <div>
                    <img src="./images/rollo_canela.png">
                    <button class="price" data-name="Rollo de canela" data-price="5"> Q5.00 c/u</button>
                    <br><br>
                    <button class="price" data-name="Rollo de canela (x2)" data-price="8"> Q8.00 x2</button>
                </div>
            </div>
            

            <br>
            <br>
            
            <div id="total">Carrito Vacío</div>
            <br>
            <br>
            <button class="main_button" id="realizarPedido" style="padding: 20px;">Realizar Pedido</button>


        </div>

    </div>

</body>

<script>

    function handleClick(event) {
        const el = event.currentTarget;
        const nombre = el.dataset.name;
        const precio = parseFloat(el.dataset.price);

        if (!pedido[nombre]) {
        pedido[nombre] = { cantidad: 1, precio };
        } else {
        pedido[nombre].cantidad += 1;
        }

        actualizarTotal();
    }

    function actualizarTotal() {
        total = 0;
        let texto = "Carrito\n\n";
        for (const nombre in pedido) {
        const item = pedido[nombre];
        total += item.cantidad * item.precio;
        texto += `- ${nombre} x${item.cantidad} - Q${item.cantidad * item.precio}\n`;
        }
        texto += `\nTotal: Q${total}`;
        totalDisplay.textContent = texto;
    }

    const pedido = {};
    let total = 0;
  
    let elementos = document.getElementsByClassName("price"); 
    const totalDisplay = document.getElementById("total");
    
    
    for (let index = 0; index < elementos.length; index++) {
        const element = elementos[index];
        element.addEventListener("click", handleClick);
    }

    

    // WhatsApp
  document.getElementById("realizarPedido").addEventListener("click", () => {
    if (Object.keys(pedido).length === 0) {
      alert("El carrito está vacío");
      return;
    }
    const numeroPedido = Math.floor(1000 + Math.random() * 9000);
    const numeroWhatsApp = "50245274363";
    let mensaje = "Hola! Quiero realizar un pedido: \n";
    for (const nombre in pedido) {
      const item = pedido[nombre];
      mensaje += `- ${nombre} x${item.cantidad} \n`;
    }
    mensaje = mensaje.slice(0, -2); // quitar última coma
    mensaje += `\nTotal Q${total}\nPedido #${numeroPedido} (Autogenerado)`;

    const mensajeFinal = encodeURIComponent(mensaje);
    const url = `https://wa.me/${numeroWhatsApp}?text=${mensajeFinal}`;

    window.open(url, "_blank");
  });

</script>

</html>
